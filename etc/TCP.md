# TCP (Transmission Control Protocol)
* 근거리 통신망이나 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간 옥텟(=바이트)을 안정적으로, 순서대로, 에러없이 교환할 수 있게 한다.
* OSI 모형에서 4번째 계층인 전송계층(Transport Layer)에서 사용하는 규약.
* 웹브라우저 들이 월드와이드웹 에서 서버에 연결할 때 사용되며, 이메일 전송이나 파일 전송에도 사용된다.
### 개발동기
미군에서 원래 사용하던 통신방식은 회선교환 방식이었다. 이는 이미 이동경로를 정해놓고 통신하는 방식이기 때문에 중간에 선 하나만 끊어져도 통신이 끊어지는 상황이 발생한다. 이에 따라 사용된 것이 패킷 교환 방식인데 이 방식은 딱히 경로를 정해놓지 않고 회선이 끊어져 있다면 다른 회선을 통해 우회하여 도착할 수 있도록 하는 방식이었다. 이로 인헤 통신이 끊어지지 않고 계속될 수 있는 환경을 구축하였지만 어떻게든 회선을 유지하도록 하는 것이 목적이었으므로 안정성이 떨어지게 된다. 이로 인해 데이터가 중간에 유실되거나 너무 늦게 도달하는 등 신뢰성이 떨어지는 문제점이 발생하여 신뢰성을 보장하기 위해 통신규약을 연구하게 되었고 이에 따라 나온 것이 TCP 이다.

**Q.** 왜 데이터가 유실될 수 있나?

**A.** 패킷교환 방식은 하나의 파일을 작은 크기의 데이터들로 나누어 전송한다. 개별 데이터에는 발신지 주소, 목적지 주소가 추가되어 하나의 단일 패킷이 된다. 이런 패킷들의 나열(sequence)은 차례로 목적지까지 보내지고, 목적지에서는 다시 원본 파일로 재구성하는 작업이 이루어진다. 원본파일이 분할되기 때문에 통신규약이 분명하지 않으면 받는 쪽에서 데이터를 잘 받았는지 보낸 쪽에서 알 수가 없어 받는 쪽에서 데이터 누락이 있어도 알 수 있는 방법이 없다.

**Q.** 이를 제어하기 위한 TCP 의 방법은?

**A.** TCP 헤더파일 중 확인응답(Acknowledge)파일이 존재한다. 이 파일은 UDP 와 구분되는 것으로 송수신시 계속 확인응답을 보내어 잘 갔는지, 잘 왔는지 확인하는 용도로 사용된다. 
### Three Way Handshake
* 전화를 거는 것처럼 상대와 연결을 설정하고 통신을 시작한다.
> 1. 상대에게 통신을 하고 싶다는 메세지를 보낸다. (SYN)
> 2. 상대는 그 메세지에 대한 응답 + 나도 통신 준비가 되었다는 메세지를 보낸다. (SYN-ACK)
> 3. 2번에서 받은 메세지에 응답을 보낸다. (ACK)
* 이와 같은 과정을 통해 나와 상대가 통신준비를 마쳤고, **현재 통신이 연결되어 있음을 보장**하게 된다.
